# 实时存储NoSQL模拟面试

## 1、Kafka中的分区策略是什么？

[看这篇文章](https://www.jianshu.com/p/99b4187a994d)

- 生产者分区分配
  - 如果没有指定分区并且消息的Key为空，则用轮询的方式选择一个分区
  - 如果没有指定分区，并且消息的Key不为空，则对Key进行Hash取余决定分区
  - 如果指定分区，则消息就投递到指定分区
- 消费者分区分配
  - Range(默认策略)
    - 将分区按照数字顺序排序，消费者按照名称的字典顺序排序
    - 然后用分区总数除以消费者总数，如果能除尽，平均分配；如果除不尽，则位于排序前面的消费者多负责一个分区
  - RangeRobin(轮询策略)

